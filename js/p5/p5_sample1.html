<html>
  <title>p5 test</title>
  <body>
        <script src="../js/p5.js"></script>
        <script>
            var x = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            var y = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            var segLength = 18;
             
            function setup() { 
              createCanvas(640, 360);
              strokeWeight(9);
              stroke(255, 100);
            }
             
            function draw() {
              background(0);
              drawSegment(0, mouseX, mouseY);
              for(var i=0; i<x.length-1; i++) { 
                drawSegment(i+1, x[i], y[i]); 
              }
            }
             
            function drawSegment(i, xin, yin) {
              var dx = xin - x[i];   
              var dy = yin - y[i];   
              var angle = atan2(dy, dx);
              x[i] = xin - cos(angle) * segLength;
              y[i] = yin - sin(angle) * segLength;
              segment(x[i], y[i], angle);
            }
        </script>
  </body>
</html>
